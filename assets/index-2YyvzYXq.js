import{S as T,T as k,l as P,o as A,U as N,V as M,J as E,C as b,r as v,W as C}from"./index-_lOFy3Cn.js";function I(e){return T()?(k(e),!0):!1}function S(e){return typeof e=="function"?e():P(e)}const L=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const _=e=>e!=null,x=Object.prototype.toString,Y=e=>x.call(e)==="[object Object]",y=()=>{},j=V();function V(){var e,t;return L&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function z(e){return e||M()}function F(e,t=!0,i){z()?A(e,i):t?e():N(e)}function w(e){var t;const i=S(e);return(t=i==null?void 0:i.$el)!=null?t:i}const h=L?window:void 0;function g(...e){let t,i,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([i,o,r]=e,t=h):[t,i,o,r]=e,!t)return y;Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]);const u=[],a=()=>{u.forEach(d=>d()),u.length=0},c=(d,p,n,s)=>(d.addEventListener(p,n,s),()=>d.removeEventListener(p,n,s)),l=b(()=>[w(t),S(r)],([d,p])=>{if(a(),!d)return;const n=Y(p)?{...p}:p;u.push(...i.flatMap(s=>o.map(f=>c(d,s,f,n))))},{immediate:!0,flush:"post"}),m=()=>{l(),a()};return I(m),m}let O=!1;function B(e,t,i={}){const{window:o=h,ignore:r=[],capture:u=!0,detectIframe:a=!1}=i;if(!o)return y;j&&!O&&(O=!0,Array.from(o.document.body.children).forEach(n=>n.addEventListener("click",y)),o.document.documentElement.addEventListener("click",y));let c=!0;const l=n=>r.some(s=>{if(typeof s=="string")return Array.from(o.document.querySelectorAll(s)).some(f=>f===n.target||n.composedPath().includes(f));{const f=w(s);return f&&(n.target===f||n.composedPath().includes(f))}}),d=[g(o,"click",n=>{const s=w(e);if(!(!s||s===n.target||n.composedPath().includes(s))){if(n.detail===0&&(c=!l(n)),!c){c=!0;return}t(n)}},{passive:!0,capture:u}),g(o,"pointerdown",n=>{const s=w(e);c=!l(n)&&!!(s&&!n.composedPath().includes(s))},{passive:!0}),a&&g(o,"blur",n=>{setTimeout(()=>{var s;const f=w(e);((s=o.document.activeElement)==null?void 0:s.tagName)==="IFRAME"&&!(f!=null&&f.contains(o.document.activeElement))&&t(n)},0)})].filter(Boolean);return()=>d.forEach(n=>n())}function H(){const e=v(!1),t=M();return t&&A(()=>{e.value=!0},t),e}function W(e){const t=H();return E(()=>(t.value,!!e()))}function R(e,t={}){const{window:i=h}=t,o=W(()=>i&&"matchMedia"in i&&typeof i.matchMedia=="function");let r;const u=v(!1),a=m=>{u.value=m.matches},c=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",a):r.removeListener(a))},l=C(()=>{o.value&&(c(),r=i.matchMedia(S(e)),"addEventListener"in r?r.addEventListener("change",a):r.addListener(a),u.value=r.matches)});return I(()=>{l(),c(),r=void 0}),u}function D(e,t,i={}){const{window:o=h,...r}=i;let u;const a=W(()=>o&&"MutationObserver"in o),c=()=>{u&&(u.disconnect(),u=void 0)},l=E(()=>{const n=S(e),s=(Array.isArray(n)?n:[n]).map(w).filter(_);return new Set(s)}),m=b(()=>l.value,n=>{c(),a.value&&o&&n.size&&(u=new MutationObserver(t),n.forEach(s=>u.observe(s,r)))},{immediate:!0,flush:"post"}),d=()=>u==null?void 0:u.takeRecords(),p=()=>{c(),m()};return I(p),{isSupported:a,stop:p,takeRecords:d}}function G(e={}){const{window:t=h,behavior:i="auto"}=e;if(!t)return{x:v(0),y:v(0)};const o=v(t.scrollX),r=v(t.scrollY),u=E({get(){return o.value},set(c){scrollTo({left:c,behavior:i})}}),a=E({get(){return r.value},set(c){scrollTo({top:c,behavior:i})}});return g(t,"scroll",()=>{o.value=t.scrollX,r.value=t.scrollY},{capture:!1,passive:!0}),{x:u,y:a}}function Q(e={}){const{window:t=h,initialWidth:i=Number.POSITIVE_INFINITY,initialHeight:o=Number.POSITIVE_INFINITY,listenOrientation:r=!0,includeScrollbar:u=!0}=e,a=v(i),c=v(o),l=()=>{t&&(u?(a.value=t.innerWidth,c.value=t.innerHeight):(a.value=t.document.documentElement.clientWidth,c.value=t.document.documentElement.clientHeight))};if(l(),F(l),g("resize",l,{passive:!0}),r){const m=R("(orientation: portrait)");b(m,()=>l())}return{width:a,height:c}}export{G as a,D as b,B as o,Q as u};
