import{a as q,u as G}from"./index-Gt1fmaMF.js";import{a as J,D as K,s as M,E as A,r as H,o as s,h as Q,w as S,d as t,t as f,c as i,G as T,H as U,m as D,I as r,g as o,i as R,e as d,l as N,y as z,f as k,F as p,j as x,p as O,q as E,C as X,J as $}from"./index-0vNyyRQc.js";import{A as Y}from"./AdView-KLNREetF.js";import{_ as Z}from"./BadgeUi-guQzyqv2.js";import{P}from"./ProductCard-9EOuFYRk.js";import{_ as F}from"./LoadingUi-VoE95F66.js";import{_ as I}from"./plugin-vueexport-helper-x3n3nnut.js";const tt={class:"card border-0 mb-3"},et={class:"row gx-0"},st={class:"col-4 col-xxs-3"},it={class:"img-cover rounded-start-2"},ot=["src"],nt={class:"col-8 col-xxs-9"},lt={class:"card-body bg-secondary-tint rounded-end-2 h-100 py-2"},at={class:"row h-100"},dt={class:"col-12 col-xxs-8"},ct={class:"card-title fs-7 fs-md-5 fw-semibold mb-2 mb-xl-3"},rt={class:"card-text fs-9 fs-md-7 text-gray-800 text-truncate-2 mb-2 mb-md-3"},ut={class:"d-flex justify-content-between align-items-end"},_t={class:"fs-9 fs-md-8 text-primary d-block mb-1"},gt={class:"fs-9 fs-md-8 text-primary d-block mb-0"},mt={class:"d-xxs-none"},vt={class:"fs-7 fw-semibold text-danger text-end mb-0"},bt={key:0,class:"fs-9 text-gray-600 text-end d-block mb-0"},ft={class:"d-none d-xxs-flex flex-column col-xxs-4"},pt={class:"mb-auto"},yt={class:"d-flex justify-content-end"},ht={class:"fs-9 fs-md-8 fw-semibold text-danger border border-danger px-2 rounded-1 opacity-75"},xt={key:0,class:"fs-8 fs-md-7 text-gray-600 text-end d-block mb-0"},wt={class:"text-end"},kt=["disabled"],$t={__name:"ProductCardHor",props:{title:String,description:String,origin:String,acidity:Number,price:Number,origin_price:Number,imageUrl:String,id:String},setup(l){const b=J(),{addToCart:w}=b,u=K(),{loadingObj:c}=M(u),m=l,_=A(()=>m.price<m.origin_price);return(v,y)=>{const a=H("RouterLink");return s(),Q(a,{to:`/products/${l.id}`},{default:S(()=>[t("div",tt,[t("div",et,[t("div",st,[t("div",it,[t("img",{src:l.imageUrl,class:"object-fit-cover w-100 h-100 rounded-start-2"},null,8,ot)])]),t("div",nt,[t("div",lt,[t("div",at,[t("div",dt,[t("h5",ct,f(l.title),1),t("p",rt,f(l.description),1),t("div",ut,[t("div",null,[t("span",_t,"產地: "+f(l.origin),1),t("span",gt,"酸度: "+f(l.acidity)+" 分",1)]),t("div",mt,[t("p",vt,"NT$ "+f(l.price),1),_.value?(s(),i("del",bt,"NT$ "+f(l.origin_price),1)):T("",!0)])])]),t("div",ft,[t("div",pt,[t("div",yt,[D(t("span",ht,"限時優惠",512),[[U,_.value]])]),t("p",{class:r(["fs-7 fs-md-5 fs-xxl-4 fw-semibold text-primary text-end mb-0",{"text-danger":_.value}])}," NT$ "+f(l.price),3),_.value?(s(),i("del",xt,"NT$ "+f(l.origin_price),1)):T("",!0)]),t("div",wt,[t("button",{class:"btn btn-sm btn-primary fs-9 fs-md-7 text-nowrap mb-1 mb-xl-2",onClick:y[0]||(y[0]=R(h=>o(w)(l.id,1),["prevent"])),disabled:o(c).isLoading},[t("span",{class:r({"d-none":o(c).isLoading})},"加入購物車",2),D(d(F,{name:"inline"},null,512),[[U,o(c).isLoading]])],8,kt)])])])])])])])]),_:1},8,["to"])}}},C=I($t,[["__scopeId","data-v-f3ffa06b"]]),W=l=>(O("data-v-179ea289"),l=l(),E(),l),Pt={"aria-label":"Page navigation example"},Ct={class:"pagination"},jt={class:"page-item"},St=W(()=>t("i",{class:"bi bi-chevron-double-left"},null,-1)),Rt=["onClick"],Nt={class:"page-item"},Lt=W(()=>t("i",{class:"bi bi-chevron-double-right"},null,-1)),It={__name:"PaginationUi",props:["pages","updateProducts","cate"],setup(l){const b=l,{y:w}=q(),u=N({start:1,end:null,currentPage:1});z(()=>b.pages,m=>{u.value.end=m});function c(m){b.updateProducts(b.cate,m),w.value=0,u.value.currentPage=m}return(m,_)=>(s(),i("nav",Pt,[t("ul",Ct,[t("li",jt,[t("a",{class:r(["page-link",{disabled:u.value.currentPage===u.value.start}]),href:"#",onClick:_[0]||(_[0]=R(v=>c(u.value.start),["prevent"]))},[St,k(" 首頁 ")],2)]),(s(!0),i(p,null,x(b.pages,v=>(s(),i("li",{class:"page-item",key:v},[t("a",{href:"#",class:r(["page-link rounded-1",[{active:v===u.value.currentPage},{disabled:v===u.value.currentPage}]]),onClick:R(y=>c(v),["prevent"])},f(v),11,Rt)]))),128)),t("li",Nt,[t("a",{class:r(["page-link",{disabled:u.value.currentPage===u.value.end}]),href:"#",onClick:_[1]||(_[1]=R(v=>c(u.value.end),["prevent"]))},[k(" 末頁 "),Lt],2)])])]))}},j=I(It,[["__scopeId","data-v-179ea289"]]),g=l=>(O("data-v-33286781"),l=l(),E(),l),Vt={class:"container py-6"},Bt={class:"nav justify-content-center align-items-center fs-8 mb-3"},Tt={class:"nav-item"},Ut=g(()=>t("li",null,"/",-1)),Dt={class:"nav-item"},Mt=g(()=>t("li",null,"/",-1)),At={class:"nav-item"},Ht=g(()=>t("div",{class:"d-flex justify-content-center align-items-center"},[t("h2",{class:"fs-4 lh-sm fw-semibold text-gray-800 mb-0"},"產品列表"),t("i",{class:"bi bi-bucket-fill fs-5 text-gray-800 ms-2"})],-1)),zt={class:"container pb-8"},Ot={class:"row justify-content-center"},Et={class:"col-12 col-lg-3"},Ft={class:"list-group d-none d-lg-block"},Wt=g(()=>t("p",{class:"trasition-x mb-0"},"全部商品",-1)),qt=g(()=>t("i",{class:"bi bi-chevron-right"},null,-1)),Gt=[Wt,qt],Jt=g(()=>t("p",{class:"trasition-x mb-0"},"淺烘焙",-1)),Kt=g(()=>t("i",{class:"bi bi-chevron-right"},null,-1)),Qt=[Jt,Kt],Xt=g(()=>t("p",{class:"trasition-x mb-0"},"中烘焙",-1)),Yt=g(()=>t("i",{class:"bi bi-chevron-right"},null,-1)),Zt=[Xt,Yt],te=g(()=>t("p",{class:"trasition-x mb-0"},"深烘焙",-1)),ee=g(()=>t("i",{class:"bi bi-chevron-right"},null,-1)),se=[te,ee],ie={class:"list-group flex-row flex-wrap justify-content-center d-lg-none mb-5 mb-md-6"},oe={class:"col-12 col-lg-9"},ne={class:"d-flex flex-column flex-md-row justify-content-between mb-5"},le={class:"d-flex align-items-center mb-4 mb-md-0"},ae=g(()=>t("i",{class:"bi bi-grid-3x3-gap-fill fs-5 d-flex"},null,-1)),de=[ae],ce=g(()=>t("i",{class:"bi bi-list-ul fs-5 d-flex"},null,-1)),re=[ce],ue={class:"text-gray-800 mb-0 ms-auto ms-md-3"},_e={class:"dropdown"},ge={type:"button",class:"btn btn-outline-primary dropdown-toggle d-flex w-100 justify-content-between align-items-center","data-bs-toggle":"dropdown","aria-expanded":"false",style:{"min-width":"220px"}},me={class:"dropdown-menu bg-secondary-tint border-primary w-100"},ve=g(()=>t("li",null,[t("button",{type:"button",class:"dropdown-item text-gray-600 disabled"},"排序項目")],-1)),be={class:"tab-content"},fe={class:"tab-pane fade show active",id:"allProducts"},pe={key:0,class:"row row-cols-2 row-cols-md-3 gx-3 gy-4 mb-6"},ye={key:1,class:"row gy-1 gy-md-3 mb-6"},he={class:"d-flex justify-content-center justify-content-lg-end"},xe={class:"tab-pane fade",id:"lightRoast"},we={key:0,class:"row row-cols-2 row-cols-md-3 gx-3 gy-4 mb-6"},ke={key:1,class:"row gy-1 gy-md-3 mb-6"},$e={class:"d-flex justify-content-center justify-content-lg-end"},Pe={class:"tab-pane fade",id:"mediumRoast"},Ce={key:0,class:"row row-cols-2 row-cols-md-3 gx-3 gy-4 mb-6"},je={key:1,class:"row gy-1 gy-md-3 mb-6"},Se={class:"d-flex justify-content-center justify-content-lg-end"},Re={class:"tab-pane fade",id:"darkRoast"},Ne={key:0,class:"row row-cols-2 row-cols-md-3 gx-3 gy-4 mb-6"},Le={key:1,class:"row gy-1 gy-md-3 mb-6"},Ie={class:"d-flex justify-content-center justify-content-lg-end"},Ve={__name:"ProductsView",setup(l){const{width:b}=G(),w=X(),{products:u,productsList:c}=M(w),{sort:m,filter:_,updateProducts:v}=w,y=N("排序項目"),a=N("全部"),h=N(!1);z(()=>c.value[a.value],()=>{y.value==="價格由高至低"?m(a.value,"sortByDescending"):y.value==="價格由低至高"&&m(a.value,"sortByAscending")});function V(){h.value=!h.value}const B=A(()=>[{"pointer-events-none":!0},{active:!0},{"opacity-75":!0}]);return(Be,n)=>{const L=H("RouterLink");return s(),i(p,null,[d(F),d(Y),t("div",Vt,[t("ul",Bt,[t("li",Tt,[d(L,{to:"/",class:"nav-link link-gray-800 text-decoration-underline link-offset-1 px-2 py-0"},{default:S(()=>[k(" 首頁 ")]),_:1})]),Ut,t("li",Dt,[d(L,{to:"/products",class:"nav-link link-gray-800 text-decoration-underline link-offset-1 px-2 py-0"},{default:S(()=>[k(" 商品列表 ")]),_:1})]),Mt,t("li",At,[d(L,{to:"#",class:"nav-link link-gray-800 px-2 py-0 disabled"},{default:S(()=>[k("全部商品")]),_:1})])]),Ht]),t("div",zt,[t("div",Ot,[t("div",Et,[d(Z,{content:"商品細節 :",class:"mb-5 d-none d-lg-inline-block"}),t("div",Ft,[t("a",{class:r(["list-group-item list-group-item-action fs-6 fw-semibold d-flex justify-content-between",{active:a.value==="全部"}]),"data-bs-toggle":"list",href:"#allProducts",onClick:n[0]||(n[0]=e=>a.value="全部")},Gt,2),t("a",{class:r(["list-group-item list-group-item-action fs-6 fw-semibold d-flex justify-content-between",{active:a.value==="淺烘焙"}]),"data-bs-toggle":"list",href:"#lightRoast",onClick:n[1]||(n[1]=e=>a.value="淺烘焙")},Qt,2),t("a",{class:r(["list-group-item list-group-item-action fs-6 fw-semibold d-flex justify-content-between",{active:a.value==="中烘焙"}]),"data-bs-toggle":"list",href:"#mediumRoast",onClick:n[2]||(n[2]=e=>a.value="中烘焙")},Zt,2),t("a",{class:r(["list-group-item list-group-item-action fs-6 fw-semibold d-flex justify-content-between",{active:a.value==="深烘焙"}]),"data-bs-toggle":"list",href:"#darkRoast",onClick:n[3]||(n[3]=e=>a.value="深烘焙")},se,2)]),t("div",ie,[t("a",{class:r(["btn btn-outline-primary rounded-pill border-3 fw-bold py-1 px-3",{active:a.value==="全部"}]),"data-bs-toggle":"list",href:"#allProducts",onClick:n[4]||(n[4]=e=>a.value="全部")}," 全品項 ",2),t("a",{class:r(["btn btn-outline-primary rounded-pill border-3 fw-bold py-1 px-3",{active:a.value==="淺烘焙"}]),"data-bs-toggle":"list",href:"#lightRoast",onClick:n[5]||(n[5]=e=>a.value="淺烘焙")}," 淺烘焙 ",2),t("a",{class:r(["btn btn-outline-primary rounded-pill border-3 fw-bold py-1 px-3",{active:a.value==="中烘焙"}]),"data-bs-toggle":"list",href:"#mediumRoast",onClick:n[6]||(n[6]=e=>a.value="中烘焙")}," 中烘焙 ",2),t("a",{class:r(["btn btn-outline-primary rounded-pill border-3 fw-bold py-1 px-3",{active:a.value==="深烘焙"}]),"data-bs-toggle":"list",href:"#darkRoast",onClick:n[7]||(n[7]=e=>a.value="深烘焙")}," 深烘焙 ",2)])]),t("div",oe,[t("div",ne,[t("div",le,[t("button",{type:"button",class:r(["btn btn-outline-primary p-2 rounded-1",h.value?"":B.value]),onClick:n[8]||(n[8]=e=>V())},de,2),t("button",{type:"button",class:r(["btn btn-outline-primary p-2 rounded-1 ms-3",h.value?B.value:""]),onClick:n[9]||(n[9]=e=>V())},re,2),t("p",ue,"總共 "+f(o(u).length)+" 各品項",1)]),t("div",_e,[t("button",ge,f(y.value),1),t("ul",me,[ve,t("li",null,[t("button",{type:"button",class:"dropdown-item",onClick:n[10]||(n[10]=e=>(y.value="價格由高至低",o(m)(a.value,"sortByDescending")))}," 價格由高至低 ")]),t("li",null,[t("button",{type:"button",class:"dropdown-item",onClick:n[11]||(n[11]=e=>(y.value="價格由低至高",o(m)(a.value,"sortByAscending")))}," 價格由低至高 ")])])])]),t("div",be,[t("div",fe,[h.value?(s(),i("div",ye,[(s(!0),i(p,null,x(o(c).全部,e=>(s(),i("div",{class:"col-12",key:e.id},[d(C,$({ref_for:!0},e),null,16)]))),128))])):(s(),i("div",pe,[(s(!0),i(p,null,x(o(c).全部,e=>(s(),i("div",{class:"col",key:e.id},[d(P,{title:e.title,origin:e.origin,acdity:e.acidity,price:e.price,origin_price:e.origin_price,img_url:e.imageUrl,product_id:e.id,card_details:!(o(b)<=992)},null,8,["title","origin","acdity","price","origin_price","img_url","product_id","card_details"])]))),128))])),t("div",he,[d(j,{pages:Math.ceil(o(_)("全部").length/6),updateProducts:o(v),cate:"全部"},null,8,["pages","updateProducts"])])]),t("div",xe,[h.value?(s(),i("div",ke,[(s(!0),i(p,null,x(o(c).淺烘焙,e=>(s(),i("div",{class:"col-12",key:e.id},[d(C,$({ref_for:!0},e),null,16)]))),128))])):(s(),i("div",we,[(s(!0),i(p,null,x(o(c).淺烘焙,e=>(s(),i("div",{class:"col",key:e.id},[d(P,{title:e.title,origin:e.origin,acdity:e.acidity,price:e.price,origin_price:e.origin_price,img_url:e.imageUrl,product_id:e.id,card_details:!(o(b)<=992)},null,8,["title","origin","acdity","price","origin_price","img_url","product_id","card_details"])]))),128))])),t("div",$e,[d(j,{pages:Math.ceil(o(_)("淺烘焙").length/6),updateProducts:o(v),cate:"淺烘焙"},null,8,["pages","updateProducts"])])]),t("div",Pe,[h.value?(s(),i("div",je,[(s(!0),i(p,null,x(o(c).中烘焙,e=>(s(),i("div",{class:"col-12",key:e.id},[d(C,$({ref_for:!0},e),null,16)]))),128))])):(s(),i("div",Ce,[(s(!0),i(p,null,x(o(c).中烘焙,e=>(s(),i("div",{class:"col",key:e.id},[d(P,{title:e.title,origin:e.origin,acdity:e.acidity,price:e.price,origin_price:e.origin_price,img_url:e.imageUrl,product_id:e.id,card_details:!(o(b)<=992)},null,8,["title","origin","acdity","price","origin_price","img_url","product_id","card_details"])]))),128))])),t("div",Se,[d(j,{pages:Math.ceil(o(_)("中烘焙").length/6),updateProducts:o(v),cate:"中烘焙"},null,8,["pages","updateProducts"])])]),t("div",Re,[h.value?(s(),i("div",Le,[(s(!0),i(p,null,x(o(c).深烘焙,e=>(s(),i("div",{class:"col-12",key:e.id},[d(C,$({ref_for:!0},e),null,16)]))),128))])):(s(),i("div",Ne,[(s(!0),i(p,null,x(o(c).深烘焙,e=>(s(),i("div",{class:"col",key:e.id},[d(P,{title:e.title,origin:e.origin,acdity:e.acidity,price:e.price,origin_price:e.origin_price,img_url:e.imageUrl,product_id:e.id,card_details:!(o(b)<=992)},null,8,["title","origin","acdity","price","origin_price","img_url","product_id","card_details"])]))),128))])),t("div",Ie,[d(j,{pages:Math.ceil(o(_)("深烘焙").length/6),updateProducts:o(v),cate:"深烘焙"},null,8,["pages","updateProducts"])])])])])])])],64)}}},Oe=I(Ve,[["__scopeId","data-v-33286781"]]);export{Oe as default};
