import{u as M,a as T,s as V,l as U,r as B,o as i,c as p,e as d,d as t,w as b,F as f,j as g,g as e,m as v,v as I,t as l,H as A,f as u,n as F,h as L,p as R,q as D}from"./index-77ePXirE.js";import{u as H}from"./order-sqkpAas2.js";import{A as z}from"./AdView-GiJwaD9s.js";import{A as E}from"./AddButtonUi-AtKQO500.js";import{C as O}from"./CanvasCard-6otb0x0t.js";import{_ as G}from"./LoadingUi-SLRfSRDX.js";import{_ as J}from"./plugin-vueexport-helper-x3n3nnut.js";const o=a=>(R("data-v-1d267391"),a=a(),D(),a),K={class:"container py-6"},P={class:"nav justify-content-center align-items-center fs-8 mb-3"},Q={class:"nav-item"},W=o(()=>t("li",null,"/",-1)),X={class:"nav-item"},Y=o(()=>t("div",{class:"d-flex justify-content-center align-items-center"},[t("h2",{class:"fs-4 lh-sm fw-semibold text-gray-800 mb-0"},"購物車確認"),t("i",{class:"bi bi-cart3 fs-5 text-gray-800 ms-2"})],-1)),Z=F('<div class="container d-flex justify-content-center" data-v-1d267391><ul class="list-unstyled d-flex border border-2 border-primary px-3 px-md-4 py-4 mb-0" style="border-style:dashed !important;" data-v-1d267391><li class="text-center bg-primary py-2 px-2 px-md-4" data-v-1d267391><p class="fs-md-6 fw-seimbold text-light mb-2" data-v-1d267391>Step 1</p><p class="fs-md-6 fw-seimbold text-light mb-0 text-nowrap" data-v-1d267391>確認商品</p></li><li class="text-center border border-2 border-primary py-2 px-2 px-md-4 mx-3 mx-md-4" data-v-1d267391><p class="fs-md-6 fw-seimbold text-primary mb-2" data-v-1d267391>Step 2</p><p class="fs-md-6 fw-seimbold text-primary mb-0 text-nowrap" data-v-1d267391>填寫訂單</p></li><li class="text-center border border-2 border-primary py-2 px-2 px-md-4" data-v-1d267391><p class="fs-md-6 fw-seimbold text-primary mb-2" data-v-1d267391>Step 3</p><p class="fs-md-6 fw-seimbold text-primary mb-0 text-nowrap" data-v-1d267391>結帳付款</p></li></ul></div>',1),tt={class:"container py-8"},st={class:"row mb-5 d-none d-md-block"},et={class:"col-12 col-lg-8 mx-auto"},ot={class:"p-5 bg-secondary-light rounded",style:{"box-shadow":"0 4px 4px rgba(0, 0, 0, 0.25)"}},lt={class:"table align-middle table-primary text-center"},nt=o(()=>t("thead",{class:"fs-6"},[t("tr",null,[t("th",null,"商品"),t("th",null,"品項"),t("th",null,"數量"),t("th",null,"價格"),t("th",null,"操作")])],-1)),dt=["src"],it={class:"fw-semibold"},at=["onClick"],rt=o(()=>t("i",{class:"bi bi-x-lg"},null,-1)),ct=[rt],pt={class:"d-md-none mb-5"},ut={class:"row justify-content-end justify-content-lg-center mb-3"},_t=o(()=>t("div",{class:"col-lg-4"},null,-1)),mt={class:"col-12 col-md-6 col-lg-4"},bt={class:"input-group mb-3"},ft={class:"list-group"},ht={class:"list-group-item d-flex justify-content-between bg-transparent border-0 px-0"},yt=o(()=>t("span",null,"小計",-1)),xt={class:"list-group-item d-flex justify-content-between bg-transparent border-0 px-0"},gt=o(()=>t("span",null,"折扣",-1)),vt={class:"list-group-item d-flex justify-content-between bg-transparent border-0 px-0"},wt=o(()=>t("span",null,"運費",-1)),kt={class:"list-group-item bg-transparent border-0 px-0 pt-0"},Ct={class:"list-group-item d-flex justify-content-between bg-transparent border-0 border-top border-dark px-0 py-3"},St=o(()=>t("span",{class:"fs-6 fw-semibold"},"總金額",-1)),$t={class:"fs-6 fw-semibold text-danger"},jt={class:"row justify-content-center"},qt={class:"col-12 col-lg-8"},Nt={class:"d-flex justify-content-between"},Mt=o(()=>t("i",{class:"bi bi-chevron-left me-1"},null,-1)),Tt=o(()=>t("i",{class:"bi bi-chevron-right ms-1"},null,-1)),Vt={__name:"CartView",setup(a){const w=M(),h=T(),{cartList:r,shipping:k,shippingFree:C,isShippingFree:y,subtotal:x,total:S}=V(h),{changeNum:$,delCartItem:j}=h,q=H(),{useCoupon:N}=q,_=U("");return(Ut,n)=>{const m=B("RouterLink");return i(),p(f,null,[d(G),d(z),t("div",K,[t("ul",P,[t("li",Q,[d(m,{to:"/",class:"nav-link link-gray-800 text-decoration-underline link-offset-1 px-2 py-0"},{default:b(()=>[u(" 首頁 ")]),_:1})]),W,t("li",X,[d(m,{to:"#",class:"nav-link link-gray-800 px-2 py-0 disabled"},{default:b(()=>[u("購物車")]),_:1})])]),Y]),Z,t("div",tt,[t("div",st,[t("div",et,[t("div",ot,[t("table",lt,[nt,t("tbody",null,[(i(!0),p(f,null,g(e(r).carts,s=>(i(),p("tr",{key:s.id},[t("td",null,[t("img",{src:s.product.imageUrl,class:"mx-auto",alt:"Header-banner-lg",width:"100"},null,8,dt)]),t("td",null,l(s.product.title),1),t("td",null,[d(E,{class:"d-flex justify-content-center",size:"small",qtyModel:s.qty,"onUpdate:qtyModel":[c=>s.qty=c,c=>e($)(s.id,c)],qtyModelModifiers:{number:!0}},null,8,["qtyModel","onUpdate:qtyModel"])]),t("td",it,l(`NT$ ${s.product.price}`),1),t("td",null,[t("button",{type:"button",class:"btn p-0",onClick:c=>e(j)(s.id)},ct,8,at)])]))),128))])])])])]),t("div",pt,[(i(!0),p(f,null,g(e(r).carts,s=>(i(),L(O,{class:"mb-3",key:s.id,title:s.product.title,content:s.product.content,price:s.product.price,img_url:s.product.imageUrl,qty:s.qty,cart_id:s.id,product_id:s.product_id},null,8,["title","content","price","img_url","qty","cart_id","product_id"]))),128))]),t("div",ut,[_t,t("div",mt,[t("div",bt,[v(t("input",{type:"text",class:"form-control border border-2 border-gray-800",placeholder:"輸入折扣代碼","onUpdate:modelValue":n[0]||(n[0]=s=>_.value=s)},null,512),[[I,_.value]]),t("button",{class:"btn btn-gray-800 px-4",type:"button",onClick:n[1]||(n[1]=s=>e(N)(_.value))}," 啟用 ")]),t("ul",ft,[t("li",ht,[yt,t("span",null,l(`NT$ ${e(x)}`),1)]),t("li",xt,[gt,t("span",null,l(`NT$ ${Math.round(e(r).total-e(r).final_total)}`),1)]),t("li",vt,[wt,t("span",null,"NTD$ "+l(e(y)?0:e(k)),1)]),t("li",kt,[v(t("span",{class:"fs-8 text-danger"},"還差 $ "+l(e(C)-e(x))+" 元免運費",513),[[A,!e(y)]])]),t("li",Ct,[St,t("span",$t,l(`NT$ ${e(S)}`),1)])])])]),t("div",jt,[t("div",qt,[t("div",Nt,[t("button",{type:"button",class:"btn",onClick:n[2]||(n[2]=s=>e(w).go(-1))},[Mt,u(" 上一部 ")]),d(m,{to:"/order",class:"btn btn-primary"},{default:b(()=>[u(" 下一步 "),Tt]),_:1})])])])])],64)}}},Ht=J(Vt,[["__scopeId","data-v-1d267391"]]);export{Ht as default};
