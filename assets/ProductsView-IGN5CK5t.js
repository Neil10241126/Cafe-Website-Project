import{u as W}from"./index-HHlsWbjy.js";import{a as K,D as Q,s as A,E as T,l as $,r as H,o as s,h as X,w as I,e as d,d as e,t as b,c as i,G as B,H as z,m as D,I as g,g as o,i as N,n as Y,y as O,f as P,F as f,j as y,p as E,q as F,C as Z,J as j}from"./index-77ePXirE.js";import{A as ee}from"./AdView-GiJwaD9s.js";import{_ as te}from"./BadgeUi-h0qxGvW6.js";import{L as M,P as S}from"./ProductCard-t_xHGsWk.js";import{_ as q}from"./LoadingUi-SLRfSRDX.js";import{_ as U}from"./plugin-vueexport-helper-x3n3nnut.js";const se={class:"card border-0 mb-3"},ie={class:"row gx-0"},oe={class:"col-4 col-xxs-3"},le={class:"img-cover rounded-start-2"},ae={class:"col-8 col-xxs-9"},ne={class:"card-body bg-secondary-tint rounded-end-2 h-100 py-2"},de={class:"row h-100"},ce={class:"col-12 col-xxs-8"},re={class:"card-title fs-7 fs-md-5 fw-semibold mb-2 mb-xl-3","data-test":"title"},ue={class:"card-text fs-9 fs-md-7 text-gray-800 text-truncate-2 mb-2 mb-md-3","data-test":"description"},ge={class:"d-flex justify-content-between align-items-end"},_e={class:"fs-9 fs-md-8 text-primary d-block mb-1","data-test":"origin"},me={class:"fs-9 fs-md-8 text-primary d-block mb-0","data-test":"acidity"},ve={class:"d-xxs-none"},pe={class:"fs-7 fw-semibold text-danger text-end mb-0","data-test":"price"},be={key:0,class:"fs-9 text-gray-600 text-end d-block mb-0","data-test":"originPrice"},fe={class:"d-none d-xxs-flex flex-column col-xxs-4"},ye={class:"mb-auto"},he={class:"d-flex justify-content-end"},xe={class:"fs-9 fs-md-8 fw-semibold text-danger border border-danger px-2 rounded-1 opacity-75","data-test":"target"},we={key:0,class:"fs-8 fs-md-7 text-gray-600 text-end d-block mb-0"},ke={class:"text-end"},$e=["disabled"],Pe={key:0,"data-test":"span"},Ce={key:1,class:"card mb-3"},je={class:"row gx-0"},Se={class:"col-4 col-xxs-3"},Re={class:"img-cover rounded-start-2 placeholder bg-primary w-100 h-100"},Le=Y('<div class="col-8 col-xxs-9" data-v-e8096e49><div class="card-body bg-secondary-tint rounded-end-2 h-100" data-v-e8096e49><div class="row gx-1 h-100" data-v-e8096e49><div class="col-9 col-md-10" data-v-e8096e49><div class="placeholder-glow" data-v-e8096e49><h5 class="placeholder bg-primary rounded-pill col-4" data-v-e8096e49></h5></div><p class="fs-8 placeholder-glow mb-0" data-v-e8096e49><span class="placeholder bg-primary rounded-pill col-8 mb-1" data-v-e8096e49></span><span class="placeholder bg-primary rounded-pill col-5" data-v-e8096e49></span></p><p class="fs-8 placeholder-glow mb-0" data-v-e8096e49><span class="placeholder bg-primary rounded-pill col-2" data-v-e8096e49></span></p></div><div class="col-3 col-md-2 d-flex flex-column" data-v-e8096e49><div class="placeholder-glow mt-auto" data-v-e8096e49><button class="btn bg-primary border-primary w-100 disabled placeholder" data-v-e8096e49></button></div></div></div></div></div>',1),Ie={__name:"ProductCardHor",props:{title:String,description:String,origin:String,acidity:Number,price:Number,origin_price:Number,imageUrl:String,id:String},setup(l){const v=K(),{addToCart:u}=v,w=Q(),{loadingObj:c}=A(w),m=l,r=T(()=>m.price<m.origin_price),h=T(()=>m.title.replace(/\s/g,"")),x=$(!0),a=p=>{x.value=!p};return(p,k)=>{const C=H("RouterLink");return x.value?(s(),i("div",Ce,[e("div",je,[e("div",Se,[e("div",Re,[d(M,{class:"object-fit-cover w-100 h-100 opacity-0","image-url":l.imageUrl,"lazy-image-url":`/public/images/compression-img/small-${h.value}.jpg`,onImageReady:a},null,8,["image-url","lazy-image-url"])])]),Le])])):(s(),X(C,{key:0,to:`/products/${l.id}`},{default:I(()=>[e("div",se,[e("div",ie,[e("div",oe,[e("div",le,[d(M,{class:"h-100 rounded-start-2","image-url":l.imageUrl,"lazy-image-url":`/public/images/compression-img/small-${h.value}.jpg`,onImageReady:a},null,8,["image-url","lazy-image-url"])])]),e("div",ae,[e("div",ne,[e("div",de,[e("div",ce,[e("h5",re,b(l.title),1),e("p",ue,b(l.description),1),e("div",ge,[e("div",null,[e("span",_e,"產地: "+b(l.origin),1),e("span",me,"酸度: "+b(l.acidity)+" 分",1)]),e("div",ve,[e("p",pe," NT$ "+b(l.price),1),r.value?(s(),i("del",be,"NT$ "+b(l.origin_price),1)):B("",!0)])])]),e("div",fe,[e("div",ye,[e("div",he,[D(e("span",xe,"限時優惠",512),[[z,r.value]])]),e("p",{class:g(["fs-7 fs-md-5 fs-xxl-4 fw-semibold text-primary text-end mb-0",{"text-danger":r.value}])}," NT$ "+b(l.price),3),r.value?(s(),i("del",we,"NT$ "+b(l.origin_price),1)):B("",!0)]),e("div",ke,[e("button",{class:"btn btn-sm btn-primary fs-9 fs-md-7 text-nowrap mb-1 mb-xl-2",onClick:k[0]||(k[0]=N(J=>o(u)(l.id,1),["prevent"])),disabled:o(c).isLoading,"data-test":"addButton"},[o(c).isLoading?B("",!0):(s(),i("span",Pe,"加入購物車")),D(d(q,{name:"inline"},null,512),[[z,o(c).isLoading]])],8,$e)])])])])])])])]),_:1},8,["to"]))}}},R=U(Ie,[["__scopeId","data-v-e8096e49"]]),G=l=>(E("data-v-39bff011"),l=l(),F(),l),Ne={"aria-label":"Page navigation example"},Ve={class:"pagination"},Be={class:"page-item"},Te=G(()=>e("i",{class:"bi bi-chevron-double-left"},null,-1)),Ue=["onClick"],ze={class:"page-item"},De=G(()=>e("i",{class:"bi bi-chevron-double-right"},null,-1)),Me={__name:"PaginationUi",props:["pages","updateProducts","cate"],setup(l){const v=l,u=$({start:1,end:null,currentPage:1});O(()=>v.pages,c=>{u.value.end=c});function w(c){v.updateProducts(v.cate,c),u.value.currentPage=c}return(c,m)=>(s(),i("nav",Ne,[e("ul",Ve,[e("li",Be,[e("a",{class:g(["page-link",{disabled:u.value.currentPage===u.value.start}]),href:"#",onClick:m[0]||(m[0]=N(r=>w(u.value.start),["prevent"]))},[Te,P(" 首頁 ")],2)]),(s(!0),i(f,null,y(v.pages,r=>(s(),i("li",{class:"page-item",key:r},[e("a",{href:"#",class:g(["page-link rounded-1",[{active:r===u.value.currentPage},{disabled:r===u.value.currentPage}]]),onClick:N(h=>w(r),["prevent"])},b(r),11,Ue)]))),128)),e("li",ze,[e("a",{class:g(["page-link",{disabled:u.value.currentPage===u.value.end}]),href:"#",onClick:m[1]||(m[1]=N(r=>w(u.value.end),["prevent"]))},[P(" 末頁 "),De],2)])])]))}},L=U(Me,[["__scopeId","data-v-39bff011"]]),_=l=>(E("data-v-33286781"),l=l(),F(),l),Ae={class:"container py-6"},He={class:"nav justify-content-center align-items-center fs-8 mb-3"},Oe={class:"nav-item"},Ee=_(()=>e("li",null,"/",-1)),Fe={class:"nav-item"},qe=_(()=>e("li",null,"/",-1)),Ge={class:"nav-item"},Je=_(()=>e("div",{class:"d-flex justify-content-center align-items-center"},[e("h2",{class:"fs-4 lh-sm fw-semibold text-gray-800 mb-0"},"產品列表"),e("i",{class:"bi bi-bucket-fill fs-5 text-gray-800 ms-2"})],-1)),We={class:"container pb-8"},Ke={class:"row justify-content-center"},Qe={class:"col-12 col-lg-3"},Xe={class:"list-group d-none d-lg-block"},Ye=_(()=>e("p",{class:"trasition-x mb-0"},"全部商品",-1)),Ze=_(()=>e("i",{class:"bi bi-chevron-right"},null,-1)),et=[Ye,Ze],tt=_(()=>e("p",{class:"trasition-x mb-0"},"淺烘焙",-1)),st=_(()=>e("i",{class:"bi bi-chevron-right"},null,-1)),it=[tt,st],ot=_(()=>e("p",{class:"trasition-x mb-0"},"中烘焙",-1)),lt=_(()=>e("i",{class:"bi bi-chevron-right"},null,-1)),at=[ot,lt],nt=_(()=>e("p",{class:"trasition-x mb-0"},"深烘焙",-1)),dt=_(()=>e("i",{class:"bi bi-chevron-right"},null,-1)),ct=[nt,dt],rt={class:"list-group flex-row flex-wrap justify-content-center d-lg-none mb-5 mb-md-6"},ut={class:"col-12 col-lg-9"},gt={class:"d-flex flex-column flex-md-row justify-content-between mb-5"},_t={class:"d-flex align-items-center mb-4 mb-md-0"},mt=_(()=>e("i",{class:"bi bi-grid-3x3-gap-fill fs-5 d-flex"},null,-1)),vt=[mt],pt=_(()=>e("i",{class:"bi bi-list-ul fs-5 d-flex"},null,-1)),bt=[pt],ft={class:"text-gray-800 mb-0 ms-auto ms-md-3"},yt={class:"dropdown"},ht={type:"button",class:"btn btn-outline-primary dropdown-toggle d-flex w-100 justify-content-between align-items-center","data-bs-toggle":"dropdown","aria-expanded":"false",style:{"min-width":"220px"}},xt={class:"dropdown-menu bg-secondary-tint border-primary w-100"},wt=_(()=>e("li",null,[e("button",{type:"button",class:"dropdown-item text-gray-600 disabled"},"排序項目")],-1)),kt={class:"tab-content"},$t={class:"tab-pane fade show active",id:"allProducts"},Pt={key:0,class:"row row-cols-2 row-cols-md-3 gx-3 gy-4 mb-6"},Ct={key:1,class:"row gy-1 gy-md-3 mb-6"},jt={class:"d-flex justify-content-center justify-content-lg-end"},St={class:"tab-pane fade",id:"lightRoast"},Rt={key:0,class:"row row-cols-2 row-cols-md-3 gx-3 gy-4 mb-6"},Lt={key:1,class:"row gy-1 gy-md-3 mb-6"},It={class:"d-flex justify-content-center justify-content-lg-end"},Nt={class:"tab-pane fade",id:"mediumRoast"},Vt={key:0,class:"row row-cols-2 row-cols-md-3 gx-3 gy-4 mb-6"},Bt={key:1,class:"row gy-1 gy-md-3 mb-6"},Tt={class:"d-flex justify-content-center justify-content-lg-end"},Ut={class:"tab-pane fade",id:"darkRoast"},zt={key:0,class:"row row-cols-2 row-cols-md-3 gx-3 gy-4 mb-6"},Dt={key:1,class:"row gy-1 gy-md-3 mb-6"},Mt={class:"d-flex justify-content-center justify-content-lg-end"},At={__name:"ProductsView",setup(l){const{width:v}=W(),u=Z(),{products:w,productsList:c}=A(u),{sort:m,filter:r,updateProducts:h}=u,x=$("排序項目"),a=$("全部"),p=$(!1);O(()=>c.value[a.value],()=>{x.value==="價格由高至低"?m(a.value,"sortByDescending"):x.value==="價格由低至高"&&m(a.value,"sortByAscending")});function k(){p.value=!p.value}const C=T(()=>[{"pointer-events-none":!0},{active:!0},{"opacity-75":!0}]);return(J,n)=>{const V=H("RouterLink");return s(),i(f,null,[d(q),d(ee),e("div",Ae,[e("ul",He,[e("li",Oe,[d(V,{to:"/",class:"nav-link link-gray-800 text-decoration-underline link-offset-1 px-2 py-0"},{default:I(()=>[P(" 首頁 ")]),_:1})]),Ee,e("li",Fe,[d(V,{to:"/products",class:"nav-link link-gray-800 text-decoration-underline link-offset-1 px-2 py-0"},{default:I(()=>[P(" 商品列表 ")]),_:1})]),qe,e("li",Ge,[d(V,{to:"#",class:"nav-link link-gray-800 px-2 py-0 disabled"},{default:I(()=>[P("全部商品")]),_:1})])]),Je]),e("div",We,[e("div",Ke,[e("div",Qe,[d(te,{content:"商品細節 :",class:"mb-5 d-none d-lg-inline-block"}),e("div",Xe,[e("a",{class:g(["list-group-item list-group-item-action fs-6 fw-semibold d-flex justify-content-between",{active:a.value==="全部"}]),"data-bs-toggle":"list",href:"#allProducts",onClick:n[0]||(n[0]=t=>a.value="全部")},et,2),e("a",{class:g(["list-group-item list-group-item-action fs-6 fw-semibold d-flex justify-content-between",{active:a.value==="淺烘焙"}]),"data-bs-toggle":"list",href:"#lightRoast",onClick:n[1]||(n[1]=t=>a.value="淺烘焙")},it,2),e("a",{class:g(["list-group-item list-group-item-action fs-6 fw-semibold d-flex justify-content-between",{active:a.value==="中烘焙"}]),"data-bs-toggle":"list",href:"#mediumRoast",onClick:n[2]||(n[2]=t=>a.value="中烘焙")},at,2),e("a",{class:g(["list-group-item list-group-item-action fs-6 fw-semibold d-flex justify-content-between",{active:a.value==="深烘焙"}]),"data-bs-toggle":"list",href:"#darkRoast",onClick:n[3]||(n[3]=t=>a.value="深烘焙")},ct,2)]),e("div",rt,[e("a",{class:g(["btn btn-outline-primary rounded-pill border-3 fw-bold py-1 px-3",{active:a.value==="全部"}]),"data-bs-toggle":"list",href:"#allProducts",onClick:n[4]||(n[4]=t=>a.value="全部")}," 全品項 ",2),e("a",{class:g(["btn btn-outline-primary rounded-pill border-3 fw-bold py-1 px-3",{active:a.value==="淺烘焙"}]),"data-bs-toggle":"list",href:"#lightRoast",onClick:n[5]||(n[5]=t=>a.value="淺烘焙")}," 淺烘焙 ",2),e("a",{class:g(["btn btn-outline-primary rounded-pill border-3 fw-bold py-1 px-3",{active:a.value==="中烘焙"}]),"data-bs-toggle":"list",href:"#mediumRoast",onClick:n[6]||(n[6]=t=>a.value="中烘焙")}," 中烘焙 ",2),e("a",{class:g(["btn btn-outline-primary rounded-pill border-3 fw-bold py-1 px-3",{active:a.value==="深烘焙"}]),"data-bs-toggle":"list",href:"#darkRoast",onClick:n[7]||(n[7]=t=>a.value="深烘焙")}," 深烘焙 ",2)])]),e("div",ut,[e("div",gt,[e("div",_t,[e("button",{type:"button",class:g(["btn btn-outline-primary p-2 rounded-1",p.value?"":C.value]),onClick:n[8]||(n[8]=t=>k())},vt,2),e("button",{type:"button",class:g(["btn btn-outline-primary p-2 rounded-1 ms-3",p.value?C.value:""]),onClick:n[9]||(n[9]=t=>k())},bt,2),e("p",ft,"總共 "+b(o(w).length)+" 各品項",1)]),e("div",yt,[e("button",ht,b(x.value),1),e("ul",xt,[wt,e("li",null,[e("button",{type:"button",class:"dropdown-item",onClick:n[10]||(n[10]=t=>(x.value="價格由高至低",o(m)(a.value,"sortByDescending")))}," 價格由高至低 ")]),e("li",null,[e("button",{type:"button",class:"dropdown-item",onClick:n[11]||(n[11]=t=>(x.value="價格由低至高",o(m)(a.value,"sortByAscending")))}," 價格由低至高 ")])])])]),e("div",kt,[e("div",$t,[p.value?(s(),i("div",Ct,[(s(!0),i(f,null,y(o(c).全部,t=>(s(),i("div",{class:"col-12",key:t.id},[d(R,j({ref_for:!0},t),null,16)]))),128))])):(s(),i("div",Pt,[(s(!0),i(f,null,y(o(c).全部,t=>(s(),i("div",{class:"col",key:t.id},[d(S,{title:t.title,origin:t.origin,acdity:t.acidity,price:t.price,origin_price:t.origin_price,img_url:t.imageUrl,product_id:t.id,card_details:!(o(v)<=992)},null,8,["title","origin","acdity","price","origin_price","img_url","product_id","card_details"])]))),128))])),e("div",jt,[d(L,{pages:Math.ceil(o(r)("全部").length/6),updateProducts:o(h),cate:"全部"},null,8,["pages","updateProducts"])])]),e("div",St,[p.value?(s(),i("div",Lt,[(s(!0),i(f,null,y(o(c).淺烘焙,t=>(s(),i("div",{class:"col-12",key:t.id},[d(R,j({ref_for:!0},t),null,16)]))),128))])):(s(),i("div",Rt,[(s(!0),i(f,null,y(o(c).淺烘焙,t=>(s(),i("div",{class:"col",key:t.id},[d(S,{title:t.title,origin:t.origin,acdity:t.acidity,price:t.price,origin_price:t.origin_price,img_url:t.imageUrl,product_id:t.id,card_details:!(o(v)<=992)},null,8,["title","origin","acdity","price","origin_price","img_url","product_id","card_details"])]))),128))])),e("div",It,[d(L,{pages:Math.ceil(o(r)("淺烘焙").length/6),updateProducts:o(h),cate:"淺烘焙"},null,8,["pages","updateProducts"])])]),e("div",Nt,[p.value?(s(),i("div",Bt,[(s(!0),i(f,null,y(o(c).中烘焙,t=>(s(),i("div",{class:"col-12",key:t.id},[d(R,j({ref_for:!0},t),null,16)]))),128))])):(s(),i("div",Vt,[(s(!0),i(f,null,y(o(c).中烘焙,t=>(s(),i("div",{class:"col",key:t.id},[d(S,{title:t.title,origin:t.origin,acdity:t.acidity,price:t.price,origin_price:t.origin_price,img_url:t.imageUrl,product_id:t.id,card_details:!(o(v)<=992)},null,8,["title","origin","acdity","price","origin_price","img_url","product_id","card_details"])]))),128))])),e("div",Tt,[d(L,{pages:Math.ceil(o(r)("中烘焙").length/6),updateProducts:o(h),cate:"中烘焙"},null,8,["pages","updateProducts"])])]),e("div",Ut,[p.value?(s(),i("div",Dt,[(s(!0),i(f,null,y(o(c).深烘焙,t=>(s(),i("div",{class:"col-12",key:t.id},[d(R,j({ref_for:!0},t),null,16)]))),128))])):(s(),i("div",zt,[(s(!0),i(f,null,y(o(c).深烘焙,t=>(s(),i("div",{class:"col",key:t.id},[d(S,{title:t.title,origin:t.origin,acdity:t.acidity,price:t.price,origin_price:t.origin_price,img_url:t.imageUrl,product_id:t.id,card_details:!(o(v)<=992)},null,8,["title","origin","acdity","price","origin_price","img_url","product_id","card_details"])]))),128))])),e("div",Mt,[d(L,{pages:Math.ceil(o(r)("深烘焙").length/6),updateProducts:o(h),cate:"深烘焙"},null,8,["pages","updateProducts"])])])])])])])],64)}}},Wt=U(At,[["__scopeId","data-v-33286781"]]);export{Wt as default};
