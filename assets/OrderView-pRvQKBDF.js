import{b as Z,s as O,d as ss,o as ts,e as es,f,h as _,j as $,i as s,w as F,v as d,X as L,l as t,N as m,O as r,t as n,x as p,F as B,p as ls,k as i,K as os,y as as,z as ns,A as is}from"./index-1mnX-9oW.js";import{u as ds,a as rs}from"./useValidation-uHmkfP3m.js";import{u as cs}from"./order-s7WgImVU.js";import{A as ms}from"./AdView-z0GE4xCY.js";import{_ as ps}from"./plugin-vueexport-helper-x3n3nnut.js";const o=h=>(ns("data-v-6884f47d"),h=h(),is(),h),us={class:"container py-6"},bs={class:"nav justify-content-center align-items-center fs-8 mb-3"},fs={class:"nav-item"},_s=o(()=>s("li",null,"/",-1)),hs={class:"nav-item"},vs=o(()=>s("div",{class:"d-flex justify-content-center align-items-center"},[s("h2",{class:"fs-4 lh-sm fw-semibold text-gray-800 mb-0"},"填寫個人資訊"),s("i",{class:"bi bi-file-text fs-5 text-gray-800 ms-2"})],-1)),xs=as('<div class="container d-flex justify-content-center" data-v-6884f47d><ul class="list-unstyled d-flex border border-2 border-primary px-3 px-md-4 py-4 mb-0" style="border-style:dashed !important;" data-v-6884f47d><li class="text-center border border-2 border-primary py-2 px-2 px-md-4" data-v-6884f47d><p class="fs-md-6 fw-seimbold text-primary mb-2" data-v-6884f47d>Step 1</p><p class="fs-md-6 fw-seimbold text-primary mb-0 text-nowrap" data-v-6884f47d>確認商品</p></li><li class="text-center bg-primary py-2 px-2 px-md-4 mx-3 mx-md-4" data-v-6884f47d><p class="fs-md-6 fw-seimbold text-light mb-2" data-v-6884f47d>Step 2</p><p class="fs-md-6 fw-seimbold text-light mb-0 text-nowrap" data-v-6884f47d>填寫訂單</p></li><li class="text-center border border-2 border-primary py-2 px-2 px-md-4" data-v-6884f47d><p class="fs-md-6 fw-seimbold text-primary mb-2" data-v-6884f47d>Step 3</p><p class="fs-md-6 fw-seimbold text-primary mb-0 text-nowrap" data-v-6884f47d>結帳付款</p></li></ul></div>',1),ys={class:"container py-8"},gs={class:"row gy-5 justify-content-center"},ws={class:"col-12 col-lg-4"},ks={class:"input-wrap mb-5"},Ns=o(()=>s("h3",{class:"fs-6 lh-base fw-bold text-gray-800 pb-4 mb-0"},"發票資訊",-1)),Ss={class:"list-group flex-row"},Vs={class:"form-check form-check-inline"},Is=o(()=>s("label",{class:"form-check-label fw-semibold",for:"bill"},"個人發票",-1)),$s={class:"form-check form-check-inline"},js=o(()=>s("label",{class:"form-check-label fw-semibold",for:"bill-number"},"公司統編",-1)),As={class:"fs-8 text-danger"},Us={class:"tab-content"},Cs=o(()=>s("div",{class:"tab-pane",id:"bills"},null,-1)),Ts={class:"tab-pane mt-4",id:"numbers"},Rs={class:"row"},Os={class:"col"},Fs=o(()=>s("label",{for:"bill-name",class:"form-label fw-semibold"},[i(" 發票抬頭 "),s("span",{class:"text-danger fs-6 align-bottom"},"⁎")],-1)),Ls={class:"fs-8 text-danger"},Bs={class:"col"},Ds=o(()=>s("label",{for:"bill-number",class:"form-label fw-semibold"},[i(" 統一編號 "),s("span",{class:"text-danger fs-6 align-bottom"},"⁎")],-1)),Ms={class:"fs-8 text-danger"},Xs={class:"input-wrap"},qs=o(()=>s("h3",{class:"fs-6 lh-base fw-bold text-gray-800 pb-4 mb-0"},"訂單資訊",-1)),zs={class:"row gy-4"},Es={class:"col-12"},Ks=o(()=>s("label",{for:"name",class:"form-label fw-semibold"},[i(" 姓名 "),s("span",{class:"text-danger fs-6 align-bottom"},"⁎")],-1)),Ps={class:"fs-8 text-danger"},Gs={class:"col-12"},Hs=o(()=>s("label",{for:"email",class:"form-label fw-semibold"},[i(" 電子郵件 "),s("span",{class:"text-danger fs-6 align-bottom"},"⁎")],-1)),Js={class:"fs-8 text-danger"},Qs={class:"col-12"},Ws=o(()=>s("label",{for:"tel",class:"form-label fw-semibold"},[i(" 連絡電話 "),s("span",{class:"text-danger fs-6 align-bottom"},"⁎")],-1)),Ys={class:"fs-8 text-danger"},Zs={class:"col-12"},st=o(()=>s("label",{for:"address",class:"form-label fw-semibold"},[i(" 收件地址 "),s("span",{class:"text-danger fs-6 align-bottom"},"⁎")],-1)),tt={class:"row g-2"},et={class:"col-4"},lt={class:"fs-8 text-danger"},ot={class:"col-8"},at={class:"fs-8 text-danger"},nt={class:"col-12"},it=o(()=>s("label",{for:"textarea",class:"form-label fw-semibold"},[i(" 備註 "),s("span",{class:"fw-normal text-gray-600"},"(選填)")],-1)),dt={class:"col-12 col-lg-4"},rt={class:"input-wrap mb-5"},ct=o(()=>s("h3",{class:"fs-6 lh-base fw-bold text-gray-800 border-bottom border-2 border-gray-800 pb-4 mb-0"}," 商品明細 ",-1)),mt={class:"list-unstyled"},pt={class:"d-flex justify-content-between mb-1"},ut={class:"mb-0"},bt={class:"mb-0"},ft={class:"mb-0"},_t={class:"input-wrap"},ht={class:"list-unstyled mb-0"},vt={class:"fs-6 fw-semibold text-gray-800 d-flex justify-content-between py-2"},xt=o(()=>s("span",null,"品項",-1)),yt={class:"fs-6 fw-semibold text-gray-800 d-flex justify-content-between py-2"},gt=o(()=>s("span",null,"小計",-1)),wt={class:"fs-6 fw-semibold text-gray-800 d-flex justify-content-between py-2"},kt=o(()=>s("span",null,"折扣",-1)),Nt=o(()=>s("li",{class:"fs-6 fw-semibold text-gray-800 d-flex justify-content-between pt-2 pb-3"},[s("span",null,"運費"),s("span",null,"NT$ 60")],-1)),St={class:"fs-5 fw-bold text-gray-800 border-top border-2 border-dark d-flex justify-content-between pt-3 pb-4"},Vt=o(()=>s("span",null,"總金額",-1)),It={class:"text-danger"},$t={key:0,class:"mb-1"},jt={key:0,class:"text-danger"},At=o(()=>s("i",{class:"bi bi-exclamation-circle ms-!"},null,-1)),Ut={key:1,class:"text-success"},Ct=o(()=>s("i",{class:"bi bi-check-circle ms-1"},null,-1)),Tt=o(()=>s("i",{class:"bi bi-chevron-right ms-1"},null,-1)),Rt={__name:"OrderView",setup(h){const j=Z(),{cartList:u}=O(j),{Round:y}=j,D=cs(),{submitOrder:M}=D,X=ss(),{user:g}=O(X),{orderSchema:q}=ds(),{handleSubmit:z,defineField:c,errors:a,meta:A}=rs({validationSchema:q}),[b,U]=c("user.billInfo.type"),[w,E]=c("user.billInfo.billName"),[k,K]=c("user.billInfo.billNumber"),[v,P]=c("user.name"),[x,G]=c("user.email"),[N,H]=c("user.tel"),[S,J]=c("user.postalCode"),[V,Q]=c("user.address"),[I]=c("message"),W=z((C,{resetForm:l})=>{M(C),l()}),Y=()=>{g.value.loginState&&(v.value=g.value.userInfo.name,x.value=g.value.userInfo.email)};return ts(()=>{Y()}),(C,l)=>{var R;const T=es("RouterLink");return f(),_(B,null,[$(ms),s("div",us,[s("ul",bs,[s("li",fs,[$(T,{to:"/",class:"nav-link link-gray-800 text-decoration-underline link-offset-1 px-2 py-0"},{default:F(()=>[i(" 首頁 ")]),_:1})]),_s,s("li",hs,[$(T,{to:"#",class:"nav-link link-gray-800 px-2 py-0 disabled"},{default:F(()=>[i("填寫訂單")]),_:1})])]),vs]),xs,s("div",ys,[s("div",gs,[s("div",ws,[s("form",null,[s("div",ks,[Ns,s("div",Ss,[s("div",Vs,[d(s("input",m({class:"form-check-input",type:"radio",name:"billInfo.type",id:"bill",value:"個人發票","data-bs-toggle":"list",href:"#bills","onUpdate:modelValue":l[0]||(l[0]=e=>r(b)?b.value=e:null)},t(U)),null,16),[[L,t(b)]]),Is]),s("div",$s,[d(s("input",m({class:"form-check-input",type:"radio",name:"billInfo.type",id:"bill-number",value:"公司統編","data-bs-toggle":"list",href:"#numbers","onUpdate:modelValue":l[1]||(l[1]=e=>r(b)?b.value=e:null)},t(U)),null,16),[[L,t(b)]]),js]),s("span",As,n(t(a)["user.billInfo.type"]),1)]),s("div",Us,[Cs,s("div",Ts,[s("div",Rs,[s("div",Os,[Fs,d(s("input",m({type:"text",class:["form-control",{"is-invalid":t(a)["user.billInfo.billName"]}],id:"bill-name",placeholder:"公司名稱","onUpdate:modelValue":l[2]||(l[2]=e=>r(w)?w.value=e:null)},t(E)),null,16),[[p,t(w)]]),s("span",Ls,n(t(a)["user.billInfo.billName"]),1)]),s("div",Bs,[Ds,d(s("input",m({type:"tel",class:["form-control",{"is-invalid":t(a)["user.billInfo.billNumber"]}],id:"bill-number",placeholder:"統一編號為8位數字",maxlength:"8","onUpdate:modelValue":l[3]||(l[3]=e=>r(k)?k.value=e:null)},t(K)),null,16),[[p,t(k)]]),s("span",Ms,n(t(a)["user.billInfo.billNumber"]),1)])])])])]),s("div",Xs,[qs,s("div",zs,[s("div",Es,[Ks,d(s("input",m({type:"text",class:["form-control",{"is-invalid":t(a)["user.name"]}],id:"name",placeholder:"請輸入您的姓名","onUpdate:modelValue":l[4]||(l[4]=e=>r(v)?v.value=e:null)},t(P)),null,16),[[p,t(v)]]),s("span",Ps,n(t(a)["user.name"]),1)]),s("div",Gs,[Hs,d(s("input",m({type:"email",class:["form-control",{"is-invalid":t(a)["user.email"]}],id:"email",placeholder:"請輸入您的電子郵件","onUpdate:modelValue":l[5]||(l[5]=e=>r(x)?x.value=e:null)},t(G)),null,16),[[p,t(x)]]),s("span",Js,n(t(a)["user.email"]),1)]),s("div",Qs,[Ws,d(s("input",m({type:"tel",class:["form-control",{"is-invalid":t(a)["user.tel"]}],id:"tel",placeholder:"請輸入您的連絡電話","onUpdate:modelValue":l[6]||(l[6]=e=>r(N)?N.value=e:null)},t(H)),null,16),[[p,t(N)]]),s("span",Ys,n(t(a)["user.tel"]),1)]),s("div",Zs,[st,s("div",tt,[s("div",et,[d(s("input",m({type:"tel",class:["form-control",{"is-invalid":t(a)["user.postalCode"]}],id:"address",placeholder:"郵遞區號",maxlength:"3","onUpdate:modelValue":l[7]||(l[7]=e=>r(S)?S.value=e:null)},t(J)),null,16),[[p,t(S)]]),s("span",lt,n(t(a)["user.postalCode"]),1)]),s("div",ot,[d(s("input",m({type:"text",class:["form-control",{"is-invalid":t(a)["user.address"]}],id:"address",placeholder:"請輸入您的收件地址","onUpdate:modelValue":l[8]||(l[8]=e=>r(V)?V.value=e:null)},t(Q)),null,16),[[p,t(V)]]),s("span",at,n(t(a)["user.address"]),1)])])]),s("div",nt,[it,d(s("textarea",{class:"form-control",id:"textarea",rows:"5",placeholder:"商品相關要求，是否需要磨豆等等 ~","onUpdate:modelValue":l[9]||(l[9]=e=>r(I)?I.value=e:null)},null,512),[[p,t(I)]])])])])])]),s("div",dt,[s("div",rt,[ct,s("ul",mt,[(f(!0),_(B,null,ls(t(u).carts,e=>(f(),_("li",{class:"fw-semibold text-gray-800 border-bottom border-dark py-3",key:e.id},[s("div",pt,[s("p",ut,n(e.product.title),1),s("p",bt,n(`X${e.qty}`),1)]),s("p",ft,n(`NT$ ${e.product.price} / ${e.product.unit}`),1)]))),128))])]),s("div",_t,[s("ul",ht,[s("li",vt,[xt,s("span",null,n(`${(R=t(u).carts)==null?void 0:R.length} 項`),1)]),s("li",yt,[gt,s("span",null,n(`NT$ ${t(y)(t(u).total)}`),1)]),s("li",wt,[kt,s("span",null,n(`NT$ ${t(y)(t(u).final_total-t(u).total)}`),1)]),Nt,s("li",St,[Vt,s("span",It,n(`NT$ ${t(y)(t(u).final_total)}`),1)])]),t(A).touched?(f(),_("div",$t,[t(A).valid?(f(),_("span",Ut,[i(" 欄位已完成 "),Ct])):(f(),_("span",jt,[i(" 欄位未完成 "),At]))])):os("",!0),s("button",{type:"button",class:"btn btn-primary w-100",onClick:l[10]||(l[10]=e=>t(W)())},[i(" 下一步 "),Tt])])])])])],64)}}},Mt=ps(Rt,[["__scopeId","data-v-6884f47d"]]);export{Mt as default};
