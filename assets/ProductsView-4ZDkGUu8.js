import{a as G,u as J}from"./index-8x6g0pov.js";import{a as K,D as Q,s as z,E as A,l as k,r as H,o as s,h as X,w as L,e as d,d as t,t as f,c as i,G as B,H as T,m as D,I as g,g as o,i as I,n as Y,y as O,f as $,F as h,j as x,p as E,q as F,C as Z,J as C}from"./index-e-kLE5WB.js";import{A as tt}from"./AdView-UsHZIR_P.js";import{_ as et}from"./BadgeUi-vi9TKDHe.js";import{L as M,P as j}from"./ProductCard-8Sq4l0pS.js";import{_ as W}from"./LoadingUi-YdW-FvWX.js";import{_ as U}from"./plugin-vueexport-helper-x3n3nnut.js";const st={class:"card border-0 mb-3"},it={class:"row gx-0"},ot={class:"col-4 col-xxs-3"},lt={class:"img-cover rounded-start-2"},at={class:"col-8 col-xxs-9"},nt={class:"card-body bg-secondary-tint rounded-end-2 h-100 py-2"},dt={class:"row h-100"},ct={class:"col-12 col-xxs-8"},rt={class:"card-title fs-7 fs-md-5 fw-semibold mb-2 mb-xl-3","data-test":"title"},ut={class:"card-text fs-9 fs-md-7 text-gray-800 text-truncate-2 mb-2 mb-md-3","data-test":"description"},_t={class:"d-flex justify-content-between align-items-end"},gt={class:"fs-9 fs-md-8 text-primary d-block mb-1","data-test":"origin"},vt={class:"fs-9 fs-md-8 text-primary d-block mb-0","data-test":"acidity"},mt={class:"d-xxs-none"},bt={class:"fs-7 fw-semibold text-danger text-end mb-0","data-test":"price"},pt={key:0,class:"fs-9 text-gray-600 text-end d-block mb-0","data-test":"originPrice"},ft={class:"d-none d-xxs-flex flex-column col-xxs-4"},ht={class:"mb-auto"},yt={class:"d-flex justify-content-end"},xt={class:"fs-9 fs-md-8 fw-semibold text-danger border border-danger px-2 rounded-1 opacity-75","data-test":"target"},wt={key:0,class:"fs-8 fs-md-7 text-gray-600 text-end d-block mb-0"},kt={class:"text-end"},$t=["disabled"],Pt={key:0,"data-test":"span"},Ct={key:1,class:"card mb-3"},jt={class:"row gx-0"},St={class:"col-4 col-xxs-3"},Rt={class:"img-cover rounded-start-2 placeholder bg-primary w-100 h-100"},Lt=Y('<div class="col-8 col-xxs-9" data-v-5be1707c><div class="card-body bg-secondary-tint rounded-end-2 h-100" data-v-5be1707c><div class="row gx-1 h-100" data-v-5be1707c><div class="col-9 col-md-10" data-v-5be1707c><div class="placeholder-glow" data-v-5be1707c><h5 class="placeholder bg-primary rounded-pill col-4" data-v-5be1707c></h5></div><p class="fs-8 placeholder-glow mb-0" data-v-5be1707c><span class="placeholder bg-primary rounded-pill col-8 mb-1" data-v-5be1707c></span><span class="placeholder bg-primary rounded-pill col-5" data-v-5be1707c></span></p><p class="fs-8 placeholder-glow mb-0" data-v-5be1707c><span class="placeholder bg-primary rounded-pill col-2" data-v-5be1707c></span></p></div><div class="col-3 col-md-2 d-flex flex-column" data-v-5be1707c><div class="placeholder-glow mt-auto" data-v-5be1707c><button class="btn bg-primary border-primary w-100 disabled placeholder" data-v-5be1707c></button></div></div></div></div></div>',1),It={__name:"ProductCardHor",props:{title:String,description:String,origin:String,acidity:Number,price:Number,origin_price:Number,imageUrl:String,id:String},setup(l){const b=K(),{addToCart:w}=b,u=Q(),{loadingObj:c}=z(u),m=l,_=A(()=>m.price<m.origin_price),r=k(!0),y=a=>{r.value=!a};return(a,p)=>{const P=H("RouterLink");return r.value?(s(),i("div",Ct,[t("div",jt,[t("div",St,[t("div",Rt,[d(M,{class:"object-fit-cover w-100 h-100 opacity-0",title:l.title,"image-url":l.imageUrl,onImageReady:y},null,8,["title","image-url"])])]),Lt])])):(s(),X(P,{key:0,to:`/products/${l.id}`},{default:L(()=>[t("div",st,[t("div",it,[t("div",ot,[t("div",lt,[d(M,{class:"h-100 rounded-start-2",title:l.title,"image-url":l.imageUrl,onImageReady:y},null,8,["title","image-url"])])]),t("div",at,[t("div",nt,[t("div",dt,[t("div",ct,[t("h5",rt,f(l.title),1),t("p",ut,f(l.description),1),t("div",_t,[t("div",null,[t("span",gt,"產地: "+f(l.origin),1),t("span",vt,"酸度: "+f(l.acidity)+" 分",1)]),t("div",mt,[t("p",bt," NT$ "+f(l.price),1),_.value?(s(),i("del",pt,"NT$ "+f(l.origin_price),1)):B("",!0)])])]),t("div",ft,[t("div",ht,[t("div",yt,[D(t("span",xt,"限時優惠",512),[[T,_.value]])]),t("p",{class:g(["fs-7 fs-md-5 fs-xxl-4 fw-semibold text-primary text-end mb-0",{"text-danger":_.value}])}," NT$ "+f(l.price),3),_.value?(s(),i("del",wt,"NT$ "+f(l.origin_price),1)):B("",!0)]),t("div",kt,[t("button",{class:"btn btn-sm btn-primary fs-9 fs-md-7 text-nowrap mb-1 mb-xl-2",onClick:p[0]||(p[0]=I(N=>o(w)(l.id,1),["prevent"])),disabled:o(c).isLoading,"data-test":"addButton"},[o(c).isLoading?B("",!0):(s(),i("span",Pt,"加入購物車")),D(d(W,{name:"inline"},null,512),[[T,o(c).isLoading]])],8,$t)])])])])])])])]),_:1},8,["to"]))}}},S=U(It,[["__scopeId","data-v-5be1707c"]]),q=l=>(E("data-v-179ea289"),l=l(),F(),l),Nt={"aria-label":"Page navigation example"},Vt={class:"pagination"},Bt={class:"page-item"},Ut=q(()=>t("i",{class:"bi bi-chevron-double-left"},null,-1)),Tt=["onClick"],Dt={class:"page-item"},Mt=q(()=>t("i",{class:"bi bi-chevron-double-right"},null,-1)),zt={__name:"PaginationUi",props:["pages","updateProducts","cate"],setup(l){const b=l,{y:w}=G(),u=k({start:1,end:null,currentPage:1});O(()=>b.pages,m=>{u.value.end=m});function c(m){b.updateProducts(b.cate,m),w.value=0,u.value.currentPage=m}return(m,_)=>(s(),i("nav",Nt,[t("ul",Vt,[t("li",Bt,[t("a",{class:g(["page-link",{disabled:u.value.currentPage===u.value.start}]),href:"#",onClick:_[0]||(_[0]=I(r=>c(u.value.start),["prevent"]))},[Ut,$(" 首頁 ")],2)]),(s(!0),i(h,null,x(b.pages,r=>(s(),i("li",{class:"page-item",key:r},[t("a",{href:"#",class:g(["page-link rounded-1",[{active:r===u.value.currentPage},{disabled:r===u.value.currentPage}]]),onClick:I(y=>c(r),["prevent"])},f(r),11,Tt)]))),128)),t("li",Dt,[t("a",{class:g(["page-link",{disabled:u.value.currentPage===u.value.end}]),href:"#",onClick:_[1]||(_[1]=I(r=>c(u.value.end),["prevent"]))},[$(" 末頁 "),Mt],2)])])]))}},R=U(zt,[["__scopeId","data-v-179ea289"]]),v=l=>(E("data-v-856f38fe"),l=l(),F(),l),At={class:"container py-6"},Ht={class:"nav justify-content-center align-items-center fs-8 mb-3"},Ot={class:"nav-item"},Et=v(()=>t("li",null,"/",-1)),Ft={class:"nav-item"},Wt=v(()=>t("li",null,"/",-1)),qt={class:"nav-item"},Gt=v(()=>t("div",{class:"d-flex justify-content-center align-items-center"},[t("h2",{class:"fs-4 lh-sm fw-semibold text-gray-800 mb-0"},"產品列表"),t("i",{class:"bi bi-bucket-fill fs-5 text-gray-800 ms-2"})],-1)),Jt={class:"container pb-8"},Kt={class:"row justify-content-center"},Qt={class:"col-12 col-lg-3"},Xt={class:"list-group d-none d-lg-block"},Yt=v(()=>t("p",{class:"trasition-x mb-0"},"全部商品",-1)),Zt=v(()=>t("i",{class:"bi bi-chevron-right"},null,-1)),te=[Yt,Zt],ee=v(()=>t("p",{class:"trasition-x mb-0"},"淺烘焙",-1)),se=v(()=>t("i",{class:"bi bi-chevron-right"},null,-1)),ie=[ee,se],oe=v(()=>t("p",{class:"trasition-x mb-0"},"中烘焙",-1)),le=v(()=>t("i",{class:"bi bi-chevron-right"},null,-1)),ae=[oe,le],ne=v(()=>t("p",{class:"trasition-x mb-0"},"深烘焙",-1)),de=v(()=>t("i",{class:"bi bi-chevron-right"},null,-1)),ce=[ne,de],re={class:"list-group flex-row flex-wrap justify-content-center d-lg-none mb-5 mb-md-6"},ue={class:"col-12 col-lg-9"},_e={class:"d-flex flex-column flex-md-row justify-content-between mb-5"},ge={class:"d-flex align-items-center mb-4 mb-md-0"},ve=v(()=>t("i",{class:"bi bi-grid-3x3-gap-fill fs-5 d-flex"},null,-1)),me=[ve],be=v(()=>t("i",{class:"bi bi-list-ul fs-5 d-flex"},null,-1)),pe=[be],fe={class:"text-gray-800 mb-0 ms-auto ms-md-3"},he={class:"dropdown"},ye={type:"button",class:"btn btn-outline-primary dropdown-toggle d-flex w-100 justify-content-between align-items-center","data-bs-toggle":"dropdown","aria-expanded":"false",style:{"min-width":"220px"}},xe={class:"dropdown-menu bg-secondary-tint border-primary w-100"},we=v(()=>t("li",null,[t("button",{type:"button",class:"dropdown-item text-gray-600 disabled"},"排序項目")],-1)),ke={class:"tab-content"},$e={class:"tab-pane fade show active",id:"allProducts"},Pe={key:0,class:"row row-cols-2 row-cols-md-3 gx-3 gy-4 mb-6"},Ce={key:1,class:"row gy-1 gy-md-3 mb-6"},je={class:"d-flex justify-content-center justify-content-lg-end"},Se={class:"tab-pane fade",id:"lightRoast"},Re={key:0,class:"row row-cols-2 row-cols-md-3 gx-3 gy-4 mb-6"},Le={key:1,class:"row gy-1 gy-md-3 mb-6"},Ie={class:"d-flex justify-content-center justify-content-lg-end"},Ne={class:"tab-pane fade",id:"mediumRoast"},Ve={key:0,class:"row row-cols-2 row-cols-md-3 gx-3 gy-4 mb-6"},Be={key:1,class:"row gy-1 gy-md-3 mb-6"},Ue={class:"d-flex justify-content-center justify-content-lg-end"},Te={class:"tab-pane fade",id:"darkRoast"},De={key:0,class:"row row-cols-2 row-cols-md-3 gx-3 gy-4 mb-6"},Me={key:1,class:"row gy-1 gy-md-3 mb-6"},ze={class:"d-flex justify-content-center justify-content-lg-end"},Ae={__name:"ProductsView",setup(l){const{width:b}=J(),w=Z(),{products:u,productsList:c}=z(w),{sort:m,filter:_,updateProducts:r}=w,y=k("排序項目"),a=k("全部"),p=k(!1);O(()=>c.value[a.value],()=>{y.value==="價格由高至低"?m(a.value,"sortByDescending"):y.value==="價格由低至高"&&m(a.value,"sortByAscending")});function P(){p.value=!p.value}const N=A(()=>[{"pointer-events-none":!0},{active:!0},{"opacity-75":!0}]);return(He,n)=>{const V=H("RouterLink");return s(),i(h,null,[d(W),d(tt),t("div",At,[t("ul",Ht,[t("li",Ot,[d(V,{to:"/",class:"nav-link link-gray-800 text-decoration-underline link-offset-1 px-2 py-0"},{default:L(()=>[$(" 首頁 ")]),_:1})]),Et,t("li",Ft,[d(V,{to:"/products",class:"nav-link link-gray-800 text-decoration-underline link-offset-1 px-2 py-0"},{default:L(()=>[$(" 商品列表 ")]),_:1})]),Wt,t("li",qt,[d(V,{to:"#",class:"nav-link link-gray-800 px-2 py-0 disabled"},{default:L(()=>[$("全部商品")]),_:1})])]),Gt]),t("div",Jt,[t("div",Kt,[t("div",Qt,[d(et,{content:"商品細節 :",class:"mb-5 d-none d-lg-inline-block"}),t("div",Xt,[t("a",{class:g(["list-group-item list-group-item-action fs-6 fw-semibold d-flex justify-content-between",{active:a.value==="全部"}]),"data-bs-toggle":"list",href:"#allProducts",onClick:n[0]||(n[0]=e=>a.value="全部")},te,2),t("a",{class:g(["list-group-item list-group-item-action fs-6 fw-semibold d-flex justify-content-between",{active:a.value==="淺烘焙"}]),"data-bs-toggle":"list",href:"#lightRoast",onClick:n[1]||(n[1]=e=>a.value="淺烘焙")},ie,2),t("a",{class:g(["list-group-item list-group-item-action fs-6 fw-semibold d-flex justify-content-between",{active:a.value==="中烘焙"}]),"data-bs-toggle":"list",href:"#mediumRoast",onClick:n[2]||(n[2]=e=>a.value="中烘焙")},ae,2),t("a",{class:g(["list-group-item list-group-item-action fs-6 fw-semibold d-flex justify-content-between",{active:a.value==="深烘焙"}]),"data-bs-toggle":"list",href:"#darkRoast",onClick:n[3]||(n[3]=e=>a.value="深烘焙")},ce,2)]),t("div",re,[t("a",{class:g(["btn btn-outline-primary rounded-pill border-3 fw-bold py-1 px-3",{active:a.value==="全部"}]),"data-bs-toggle":"list",href:"#allProducts",onClick:n[4]||(n[4]=e=>a.value="全部")}," 全品項 ",2),t("a",{class:g(["btn btn-outline-primary rounded-pill border-3 fw-bold py-1 px-3",{active:a.value==="淺烘焙"}]),"data-bs-toggle":"list",href:"#lightRoast",onClick:n[5]||(n[5]=e=>a.value="淺烘焙")}," 淺烘焙 ",2),t("a",{class:g(["btn btn-outline-primary rounded-pill border-3 fw-bold py-1 px-3",{active:a.value==="中烘焙"}]),"data-bs-toggle":"list",href:"#mediumRoast",onClick:n[6]||(n[6]=e=>a.value="中烘焙")}," 中烘焙 ",2),t("a",{class:g(["btn btn-outline-primary rounded-pill border-3 fw-bold py-1 px-3",{active:a.value==="深烘焙"}]),"data-bs-toggle":"list",href:"#darkRoast",onClick:n[7]||(n[7]=e=>a.value="深烘焙")}," 深烘焙 ",2)])]),t("div",ue,[t("div",_e,[t("div",ge,[t("button",{type:"button",class:g(["btn btn-outline-primary p-2 rounded-1",p.value?"":N.value]),onClick:n[8]||(n[8]=e=>P())},me,2),t("button",{type:"button",class:g(["btn btn-outline-primary p-2 rounded-1 ms-3",p.value?N.value:""]),onClick:n[9]||(n[9]=e=>P())},pe,2),t("p",fe,"總共 "+f(o(u).length)+" 各品項",1)]),t("div",he,[t("button",ye,f(y.value),1),t("ul",xe,[we,t("li",null,[t("button",{type:"button",class:"dropdown-item",onClick:n[10]||(n[10]=e=>(y.value="價格由高至低",o(m)(a.value,"sortByDescending")))}," 價格由高至低 ")]),t("li",null,[t("button",{type:"button",class:"dropdown-item",onClick:n[11]||(n[11]=e=>(y.value="價格由低至高",o(m)(a.value,"sortByAscending")))}," 價格由低至高 ")])])])]),t("div",ke,[t("div",$e,[p.value?(s(),i("div",Ce,[(s(!0),i(h,null,x(o(c).全部,e=>(s(),i("div",{class:"col-12",key:e.id},[d(S,C({ref_for:!0},e),null,16)]))),128))])):(s(),i("div",Pe,[(s(!0),i(h,null,x(o(c).全部,e=>(s(),i("div",{class:"col",key:e.id},[d(j,{title:e.title,origin:e.origin,acdity:e.acidity,price:e.price,origin_price:e.origin_price,img_url:e.imageUrl,product_id:e.id,card_details:!(o(b)<=992)},null,8,["title","origin","acdity","price","origin_price","img_url","product_id","card_details"])]))),128))])),t("div",je,[d(R,{pages:Math.ceil(o(_)("全部").length/6),updateProducts:o(r),cate:"全部"},null,8,["pages","updateProducts"])])]),t("div",Se,[p.value?(s(),i("div",Le,[(s(!0),i(h,null,x(o(c).淺烘焙,e=>(s(),i("div",{class:"col-12",key:e.id},[d(S,C({ref_for:!0},e),null,16)]))),128))])):(s(),i("div",Re,[(s(!0),i(h,null,x(o(c).淺烘焙,e=>(s(),i("div",{class:"col",key:e.id},[d(j,{title:e.title,origin:e.origin,acdity:e.acidity,price:e.price,origin_price:e.origin_price,img_url:e.imageUrl,product_id:e.id,card_details:!(o(b)<=992)},null,8,["title","origin","acdity","price","origin_price","img_url","product_id","card_details"])]))),128))])),t("div",Ie,[d(R,{pages:Math.ceil(o(_)("淺烘焙").length/6),updateProducts:o(r),cate:"淺烘焙"},null,8,["pages","updateProducts"])])]),t("div",Ne,[p.value?(s(),i("div",Be,[(s(!0),i(h,null,x(o(c).中烘焙,e=>(s(),i("div",{class:"col-12",key:e.id},[d(S,C({ref_for:!0},e),null,16)]))),128))])):(s(),i("div",Ve,[(s(!0),i(h,null,x(o(c).中烘焙,e=>(s(),i("div",{class:"col",key:e.id},[d(j,{title:e.title,origin:e.origin,acdity:e.acidity,price:e.price,origin_price:e.origin_price,img_url:e.imageUrl,product_id:e.id,card_details:!(o(b)<=992)},null,8,["title","origin","acdity","price","origin_price","img_url","product_id","card_details"])]))),128))])),t("div",Ue,[d(R,{pages:Math.ceil(o(_)("中烘焙").length/6),updateProducts:o(r),cate:"中烘焙"},null,8,["pages","updateProducts"])])]),t("div",Te,[p.value?(s(),i("div",Me,[(s(!0),i(h,null,x(o(c).深烘焙,e=>(s(),i("div",{class:"col-12",key:e.id},[d(S,C({ref_for:!0},e),null,16)]))),128))])):(s(),i("div",De,[(s(!0),i(h,null,x(o(c).深烘焙,e=>(s(),i("div",{class:"col",key:e.id},[d(j,{title:e.title,origin:e.origin,acdity:e.acidity,price:e.price,origin_price:e.origin_price,img_url:e.imageUrl,product_id:e.id,card_details:!(o(b)<=992)},null,8,["title","origin","acdity","price","origin_price","img_url","product_id","card_details"])]))),128))])),t("div",ze,[d(R,{pages:Math.ceil(o(_)("深烘焙").length/6),updateProducts:o(r),cate:"深烘焙"},null,8,["pages","updateProducts"])])])])])])])],64)}}},Ke=U(Ae,[["__scopeId","data-v-856f38fe"]]);export{Ke as default};
