import{u as $,b as j,s as S,r as q,e as N,f as i,h as p,j as a,i as t,w as f,F as y,p as h,l as e,v as T,x as V,t as d,k as u,y as M,n as U,z as A,A as B}from"./index-wWN1c4sg.js";import{u as I}from"./order-mjM0TbDt.js";import{A as R}from"./AdView-LVM5DlXg.js";import{A as L}from"./AddButtonUi-kxU-C4ID.js";import{C as D}from"./CanvasCard-J5gJ2NQ8.js";import{_ as z}from"./LoadingUi-fwIMZ-EB.js";import{_ as F}from"./plugin-vueexport-helper-x3n3nnut.js";const o=r=>(A("data-v-ac897f57"),r=r(),B(),r),E={class:"container py-6"},H={class:"nav justify-content-center align-items-center fs-8 mb-3"},O={class:"nav-item"},G=o(()=>t("li",null,"/",-1)),J={class:"nav-item"},K=o(()=>t("div",{class:"d-flex justify-content-center align-items-center"},[t("h2",{class:"fs-4 lh-sm fw-semibold text-gray-800 mb-0"},"購物車確認"),t("i",{class:"bi bi-cart3 fs-5 text-gray-800 ms-2"})],-1)),P=M('<div class="container d-flex justify-content-center" data-v-ac897f57><ul class="list-unstyled d-flex border border-2 border-primary px-3 px-md-4 py-4 mb-0" style="border-style:dashed !important;" data-v-ac897f57><li class="text-center bg-primary py-2 px-2 px-md-4" data-v-ac897f57><p class="fs-md-6 fw-seimbold text-light mb-2" data-v-ac897f57>Step 1</p><p class="fs-md-6 fw-seimbold text-light mb-0 text-nowrap" data-v-ac897f57>確認商品</p></li><li class="text-center border border-2 border-primary py-2 px-2 px-md-4 mx-3 mx-md-4" data-v-ac897f57><p class="fs-md-6 fw-seimbold text-primary mb-2" data-v-ac897f57>Step 2</p><p class="fs-md-6 fw-seimbold text-primary mb-0 text-nowrap" data-v-ac897f57>填寫訂單</p></li><li class="text-center border border-2 border-primary py-2 px-2 px-md-4" data-v-ac897f57><p class="fs-md-6 fw-seimbold text-primary mb-2" data-v-ac897f57>Step 3</p><p class="fs-md-6 fw-seimbold text-primary mb-0 text-nowrap" data-v-ac897f57>結帳付款</p></li></ul></div>',1),Q={class:"container py-8"},W={class:"row mb-5 d-none d-md-block"},X={class:"col-12 col-lg-8 mx-auto"},Y={class:"p-5 bg-secondary-light rounded",style:{"box-shadow":"0 4px 4px rgba(0, 0, 0, 0.25)"}},Z={class:"table align-middle table-primary text-center"},tt=o(()=>t("thead",{class:"fs-6"},[t("tr",null,[t("th",null,"商品"),t("th",null,"品項"),t("th",null,"數量"),t("th",null,"價格"),t("th",null,"操作")])],-1)),st=["src"],et={class:"fw-semibold"},ot=["onClick"],lt=o(()=>t("i",{class:"bi bi-x-lg"},null,-1)),nt=[lt],at={class:"d-md-none mb-5"},it={class:"row justify-content-end justify-content-lg-center mb-3"},dt=o(()=>t("div",{class:"col-lg-4"},null,-1)),rt={class:"col-12 col-md-6 col-lg-4"},ct={class:"input-group mb-3"},pt={class:"list-group"},ut={class:"list-group-item d-flex justify-content-between bg-transparent border-0 px-0"},_t=o(()=>t("span",null,"小計",-1)),mt={class:"list-group-item d-flex justify-content-between bg-transparent border-0 px-0"},bt=o(()=>t("span",null,"折扣",-1)),ft=o(()=>t("li",{class:"list-group-item d-flex justify-content-between bg-transparent border-0 px-0"},[t("span",null,"運費"),t("span",null,"NTD$ 60")],-1)),yt=o(()=>t("li",{class:"list-group-item bg-transparent border-0 px-0 pt-0"},[t("span",{class:"fs-8 text-danger"},"還差 $ 39 元免運費")],-1)),xt={class:"list-group-item d-flex justify-content-between bg-transparent border-0 border-top border-dark px-0 py-3"},ht=o(()=>t("span",{class:"fs-6 fw-semibold"},"總金額",-1)),vt={class:"fs-6 fw-semibold text-danger"},gt={class:"row justify-content-center"},wt={class:"col-12 col-lg-8"},kt={class:"d-flex justify-content-between"},Ct=o(()=>t("i",{class:"bi bi-chevron-left me-1"},null,-1)),$t=o(()=>t("i",{class:"bi bi-chevron-right ms-1"},null,-1)),jt={__name:"CartView",setup(r){const v=$(),x=j(),{cartList:l}=S(x),{changeNum:g,delCartItem:w,Round:_}=x,k=I(),{useCoupon:C}=k,m=q("");return(St,n)=>{const b=N("RouterLink");return i(),p(y,null,[a(z),a(R),t("div",E,[t("ul",H,[t("li",O,[a(b,{to:"/",class:"nav-link link-gray-800 text-decoration-underline link-offset-1 px-2 py-0"},{default:f(()=>[u(" 首頁 ")]),_:1})]),G,t("li",J,[a(b,{to:"#",class:"nav-link link-gray-800 px-2 py-0 disabled"},{default:f(()=>[u("購物車")]),_:1})])]),K]),P,t("div",Q,[t("div",W,[t("div",X,[t("div",Y,[t("table",Z,[tt,t("tbody",null,[(i(!0),p(y,null,h(e(l).carts,s=>(i(),p("tr",{key:s.id},[t("td",null,[t("img",{src:s.product.imageUrl,class:"mx-auto",alt:"Header-banner-lg",width:"100"},null,8,st)]),t("td",null,d(s.product.title),1),t("td",null,[a(L,{class:"d-flex justify-content-center",size:"small",qtyModel:s.qty,"onUpdate:qtyModel":[c=>s.qty=c,c=>e(g)(s.id,c)],qtyModelModifiers:{number:!0}},null,8,["qtyModel","onUpdate:qtyModel"])]),t("td",et,d(`NT$ ${s.product.price}`),1),t("td",null,[t("button",{type:"button",class:"btn p-0",onClick:c=>e(w)(s.id)},nt,8,ot)])]))),128))])])])])]),t("div",at,[(i(!0),p(y,null,h(e(l).carts,s=>(i(),U(D,{class:"mb-3",key:s.id,title:s.product.title,content:s.product.content,price:s.product.price,img_url:s.product.imageUrl,qty:s.qty,cart_id:s.id,product_id:s.product_id},null,8,["title","content","price","img_url","qty","cart_id","product_id"]))),128))]),t("div",it,[dt,t("div",rt,[t("div",ct,[T(t("input",{type:"text",class:"form-control border border-2 border-gray-800",placeholder:"輸入折扣代碼","onUpdate:modelValue":n[0]||(n[0]=s=>m.value=s)},null,512),[[V,m.value]]),t("button",{class:"btn btn-gray-800 px-4",type:"button",onClick:n[1]||(n[1]=s=>e(C)(m.value))}," 啟用 ")]),t("ul",pt,[t("li",ut,[_t,t("span",null,d(`NT$ ${e(_)(e(l).total)}`),1)]),t("li",mt,[bt,t("span",null,d(`NT$ ${e(_)(e(l).final_total-e(l).total)}`),1)]),ft,yt,t("li",xt,[ht,t("span",vt,d(`NT$ ${e(_)(e(l).final_total)}`),1)])])])]),t("div",gt,[t("div",wt,[t("div",kt,[t("button",{type:"button",class:"btn",onClick:n[2]||(n[2]=s=>e(v).go(-1))},[Ct,u(" 上一部 ")]),a(b,{to:"/order",class:"btn btn-primary"},{default:f(()=>[u(" 下一步 "),$t]),_:1})])])])])],64)}}},Bt=F(jt,[["__scopeId","data-v-ac897f57"]]);export{Bt as default};
